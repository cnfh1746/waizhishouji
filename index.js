(()=>{const e="mobile",t={loadSequence:["mobile-phone.css","mobile-phone.js"],debug:!1};function o(e){console.log(`[${e}] 插件启动`)}function l(){console.log(`[${e}] 尝试加载CSS和JS文件...`);const s=t.loadSequence.map(async t=>{const s=t.endsWith(".js")?"script":"link",l=document.createElement(s);return"script"===s?(l.src=`scripts/extensions/third-party/${e}/${t}`,l.onload=()=>console.log(`✅ 加载成功: ${t}`),l.onerror=r=>{console.error(`❌ 加载失败: ${t}`,r)}):(l.rel="stylesheet",l.href=`scripts/extensions/third-party/${e}/${t}`,l.onload=()=>console.log(`✅ 加载成功: ${t}`),l.onerror=r=>{console.error(`❌ 加载失败: ${t}`,r)}),document.head.appendChild(l),new Promise((e,t)=>{l.onload=()=>e(),l.onerror=e=>t(e)})});Promise.all(s).then(()=>{console.log(`[${e}] 所有文件加载完成`),o()}).catch(t=>{console.error(`[${e}] 加载过程中出现错误:`,t)})}console.log(`[${e}] 插件初始化开始`),l()})();
